# 环境使用手册
## 一、环境要求
#### 后端要求
+ JDK:17
+ Maven:3.8+
+ MySQL:8.x
+ Redis
+ MinIO
+ Kafka

#### 前端要求
+ nodejs:12、14、16

## 二、环境安装

### 1、MySQL

官网下载安装即可

### 2、Redis

+ [windows版下载](https://github.com/redis-windows/redis-windows/releases)
+ 解压`tar -zxvf Redis-7.0.14-Windows-x64.tar.gz`
+ 启动:直接双击`redis-server.exe`（默认6379端口）

### 3、MinIO

+ windows版下载
+ 启动`minio.exe server data`
+ 访问`http://ip:9000`

## 三、运行
### 后端
#### 1、主项目配置
##### 执行SQL
+ 系统数据库
    `framework\sql\zj_20230805.sql`
+ 文件数据库
    `framework\sql\oss.sql`
+ 定时任务数据库
    `framework\sql\quartz.sql`

##### 配置MySQL连接
`src/main/resources/application-druid.yml`

##### 配置Redis连接
`src/main/resources/application.yml`

##### 配置MyBatis
`src/main/resources/application.yml`

##### 配置logging
`src/main/resources/application.yml`


#### 2、代码生成配置
`zhijian-generator/src/main/resources`

### 前端
+ `cd zhijian-vue`
+ `npm install`
+ `npm run dev`
+ 访问`localhost`用户名:`admin`密码:`admin123`


## 四、部署
### 后端部署
#### jar方式部署
+ 执行命令:`java -jar zhijian.jar`
+ 脚本执行:`run.sh start`(start：启动，stop：停止)

### 前端部署
#### 打包正式环境
`npm run build:prod`

#### 打包预发布环境
`npm run build:stage`

